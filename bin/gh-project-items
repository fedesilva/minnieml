#!/usr/bin/env bash
set -euo pipefail

usage() {
  cat >&2 <<'EOF'
Usage: gh-project-items [--owner <owner>] [--project <number>] [--limit <n>]
Example: gh-project-items --owner fedesilva --project 3 --limit 200
EOF
}

owner="fedesilva"
project="3"
limit="200"

while [[ $# -gt 0 ]]; do
  case "$1" in
    --owner)
      owner="${2:-}"
      shift 2
      ;;
    --project)
      project="${2:-}"
      shift 2
      ;;
    --limit)
      limit="${2:-}"
      shift 2
      ;;
    -h|--help)
      usage
      exit 0
      ;;
    *)
      echo "Unknown option: $1" >&2
      usage
      exit 1
      ;;
  esac
done

gh project item-list "$project" --owner "$owner" --limit "$limit" --format json
